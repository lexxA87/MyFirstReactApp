(this["webpackJsonpmy-first-react-app"]=this["webpackJsonpmy-first-react-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31),s=n(3),a="ADD-MESSAGE",c={diologs:[{name:"Lexx",id:"1"},{name:"Lexx2",id:"2"},{name:"Lexx3",id:"3"},{name:"Lexx4",id:"4"},{name:"Lexx5",id:"5"}],messages:[{message:"Hi!"},{message:"How are you?"},{message:"Welcome to React!"},{message:"Yooooo!"},{message:"What are you doing?!"},{message:"What's up?!"}]},i=function(e){return{type:a,newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n={message:t.newMessageText};return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},128:function(e,t,n){"use strict";t.a=n.p+"static/media/user.098b22c7.jpg"},132:function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return P})),n.d(t,"g",(function(){return C}));var r=n(11),s=n.n(r),a=n(19),c=n(31),i=n(3),o=n(14),u=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},l="my-first-react-app/users/FOLLOW",j="my-first-react-app/users/UNFOLLOW",d="my-first-react-app/users/SET-USERS",f="my-first-react-app/users/SET_CURRENT_PAGE",b="my-first-react-app/users/SET_TOTAL_USER_COUNT",p="my-first-react-app/users/TOGGLE_IS_FETCHING",h="my-first-react-app/users/TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},m=function(e){return{type:l,userID:e}},v=function(e){return{type:j,userID:e}},x=function(e){return{type:d,users:e}},g=function(e){return{type:f,currentPage:e}},_=function(e){return{type:p,isFetching:e}},w=function(e,t){return{type:h,isFetching:e,userID:t}},y=function(e,t){return function(){var n=Object(a.a)(s.a.mark((function n(r){var a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0)),n.next=3,o.d.getUsers(e,t);case 3:a=n.sent,r(_(!1)),r(x(a.items)),r((s=a.totalCount,{type:b,count:s}));case 7:case"end":return n.stop()}var s}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(a.a)(s.a.mark((function n(r){var a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0)),r(g(e)),n.next=4,o.d.getUsers(e,t);case 4:a=n.sent,r(_(!1)),r(x(a.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(){var e=Object(a.a)(s.a.mark((function e(t,n,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t(w(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),P=function(e){return function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k(n,e,o.b.follow,v);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k(n,e,o.b.unfollow,m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case j:return Object(i.a)(Object(i.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case d:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case f:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case b:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.count});case p:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case h:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}}},137:function(e,t,n){e.exports={footer:"Footer_footer__3XAjE"}},138:function(e,t,n){e.exports={music:"Music_music__3g0g8"}},139:function(e,t,n){e.exports={news:"News_news__36jwV"}},14:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(133),s=r.create({withCredentials:!0,headers:{"API-KEY":"95c08121-9712-4774-a056-c120fe348997"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),a={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}},c={follow:function(e){return s.delete("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return s.post("follow/".concat(e)).then((function(e){return e.data}))}},i={authMe:function(){return s.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return s.delete("auth/login")}},o={myProfile:function(e){return s.get("profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return s.get("profile/status/".concat(e))},updateUserStatus:function(e){return s.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("file",e),s.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return s.put("profile",e)}}},140:function(e,t,n){e.exports={item:"Post_item__3s4Jz"}},141:function(e,t,n){},142:function(e,t,n){e.exports={set:"Settings_set__21LJF"}},17:function(e,t,n){e.exports={nav:"Navbar_nav__53FiQ",item:"Navbar_item__1qJOV",activeLink:"Navbar_activeLink__163C_"}},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),s=n(67),a=n(36),c=n.n(a),i=n(0),o=function(e){e.input;var t=e.meta,n=(e.child,Object(s.a)(e,["input","meta","child"])),r=t.error&&t.touched;return Object(i.jsxs)("div",{className:c.a.formsControle+" "+(r?c.a.error:""),children:[Object(i.jsx)("div",{children:n.children}),r&&Object(i.jsx)("span",{children:t.error})]})},u=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(i.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},n),t))}))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(i.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(i.jsx)("input",Object(r.a)(Object(r.a)({},n),t))}))}},254:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,299)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))},s=n(10),a=n(11),c=n.n(a),i=n(19),o=n(3),u=n(29),l=n(14),j="my-first-react-app/auth/SET_USER_DATA",d={userId:null,email:null,login:null,isAuth:!1},f=function(e,t,n,r){return{type:j,payload:{userId:e,email:t,login:n,isAuth:r}}},b=function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,s,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.authMe();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.email,i=r.login,t(f(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},h=n(106),O=n(31),m="ADD-POST",v="SET_USER_PROFILE",x="SET_USER_STATUS",g="DELETE_POST",_="SAVE_PHOTO_SUCCESS",w={posts:[{message:"Hi! How are you?",likeCount:15,id:1},{message:"It's my first React App!",likeCount:99,id:2},{message:"It's very good!",likeCount:1,id:3},{message:"It's very very good!",likeCount:3,id:4}],profile:null,status:""},y=function(e){return{type:x,status:e}},S=function(e){return function(t){l.c.myProfile(e).then((function(e){t({type:v,profile:e})}))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n={message:t.newPostText,likeCount:0,id:5};return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(O.a)(e.posts),[n])});case v:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case x:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case _:return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});case g:return Object(o.a)(Object(o.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}},P={friendsBlock:{friends:[{avatarSrc:"https://themindsetproject.com.au/wp-content/uploads/2017/08/avatar-icon.png",name:"Lexx_1",id:"1"},{avatarSrc:"https://themindsetproject.com.au/wp-content/uploads/2017/08/avatar-icon.png",name:"Lexx_2",id:"2"},{avatarSrc:"https://themindsetproject.com.au/wp-content/uploads/2017/08/avatar-icon.png",name:"Lexx_3",id:"3"}]}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return e},N=n(132),I=n(134),E=n(131),L="INITIALIZED_SUCCES",T={inilitialized:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(o.a)(Object(o.a)({},e),{},{inilitialized:!0});default:return e}},F=Object(s.c)({profilePage:k,diologsPage:h.b,sidebar:C,usersPage:N.a,auth:p,form:E.a,app:U}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,M=Object(s.e)(F,A(Object(s.a)(I.a)));window._store_=M;var D=M,B=n(15),z=n(1),R=n.n(z),J=n(39),G=n(40),H=n(42),V=n(41),W=n(12),q=n(9),X=(n(254),n(70)),Y=n(137),K=n.n(Y),Q=n(0),Z=function(){return Object(Q.jsx)("footer",{className:K.a.footer,children:"Footer"})},$=n(92),ee=n.n($),te=n.p+"static/media/logo-coub-2.94cebf76.png",ne=function(e){return Object(Q.jsxs)("header",{className:ee.a.header,children:[Object(Q.jsx)("img",{alt:"",src:te}),Object(Q.jsx)("div",{className:ee.a.loginBlock,children:e.isAuth?Object(Q.jsxs)("div",{children:[e.login," - ",Object(Q.jsx)("button",{onClick:e.logout,children:"Log Out"})]}):Object(Q.jsx)(B.b,{to:"/login",children:"LOGIN"})})]})},re=function(e){Object(H.a)(n,e);var t=Object(V.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return Object(Q.jsx)(ne,Object(o.a)({},this.props))}}]),n}(R.a.Component),se=Object(W.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.logout();case 2:0===e.sent.data.resultCode&&t(f(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(re),ae=n(129),ce=n(130),ie=n(44),oe=n(22),ue=n(36),le=n.n(ue),je=Object(ce.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(Q.jsxs)("form",{onSubmit:t,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(ae.a,{placeholder:"Email",component:oe.a,name:"email",validate:[ie.b]})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(ae.a,{placeholder:"Password",type:"password",component:oe.a,name:"password",validate:[ie.b]})}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(ae.a,{type:"checkbox",component:oe.a,name:"rememberMe"})," ","remember me"]}),n&&Object(Q.jsx)("div",{className:le.a.formSummaryError,children:n}),Object(Q.jsx)("div",{children:Object(Q.jsx)("button",{children:"Login"})})]})})),de=Object(W.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(i.a)(c.a.mark((function r(s){var a,i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.login(e,t,n);case 2:0===(a=r.sent).data.resultCode?s(b()):(i=a.data.messages.length>0?a.data.messages[0]:"Something wrong!",s(Object(u.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(Q.jsx)(q.a,{to:"/profile"}):Object(Q.jsxs)("div",{children:[Object(Q.jsx)("h1",{children:"Login"}),Object(Q.jsx)(je,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),fe=n(138),be=n.n(fe),pe=function(e){return Object(Q.jsx)("div",{className:be.a.music,children:"Music!"})},he=n(48),Oe=n.n(he),me=function(e){var t="/id_"+e.id;return Object(Q.jsx)("div",{className:Oe.a.friend,children:Object(Q.jsxs)(B.b,{to:t,children:[Object(Q.jsx)("img",{alt:"",src:e.avatarSrc,className:Oe.a.avatarImage}),Object(Q.jsx)("div",{children:Object(Q.jsx)("span",{children:e.name})})]})})},ve=function(e){var t=e.state.friends.map((function(e){return Object(Q.jsx)(me,{avatarSrc:e.avatarSrc,name:e.name,id:e.id})}));return Object(Q.jsxs)("div",{className:Oe.a.friendsBlock,children:[Object(Q.jsx)("h3",{children:"Friends"}),Object(Q.jsx)("div",{className:Oe.a.friendsItems,children:t})]})},xe=Object(W.b)((function(e){return{state:e.sidebar.friendsBlock}}),(function(e){return{}}))(ve),ge=n(17),_e=n.n(ge),we=function(e){return Object(Q.jsxs)("div",{className:_e.a.nav,children:[Object(Q.jsxs)("nav",{children:[Object(Q.jsx)("div",{className:_e.a.item,children:Object(Q.jsx)(B.b,{to:"/profile",activeClassName:_e.a.activeLink,children:"Profile"})}),Object(Q.jsx)("div",{className:_e.a.item,children:Object(Q.jsx)(B.b,{to:"/messages",activeClassName:_e.a.activeLink,children:"Messages"})}),Object(Q.jsx)("div",{className:_e.a.item,children:Object(Q.jsx)(B.b,{to:"/users",activeClassName:_e.a.activeLink,children:"Users"})}),Object(Q.jsx)("div",{className:_e.a.item,children:Object(Q.jsx)(B.b,{to:"/news",activeClassName:_e.a.activeLink,children:"News"})}),Object(Q.jsx)("div",{className:_e.a.item,children:Object(Q.jsx)(B.b,{to:"/music",activeClassName:_e.a.activeLink,children:"Music"})}),Object(Q.jsx)("div",{className:_e.a.item,children:Object(Q.jsx)(B.b,{to:"/settings",activeClassName:_e.a.activeLink,children:"Settings"})})]}),Object(Q.jsx)(xe,{})]})},ye=n(139),Se=n.n(ye),ke=function(e){return Object(Q.jsx)("div",{className:Se.a.news,children:"News!"})},Pe=n(97),Ce=n.n(Pe),Ne=n(140),Ie=n.n(Ne),Ee=function(e){return Object(Q.jsxs)("div",{className:Ie.a.item,children:[Object(Q.jsx)("img",{alt:"",src:"https://funny-photo.s3.amazonaws.com/preview/navi_avatar/smiling-girl-blue-face-effect.jpg"}),e.message,Object(Q.jsx)("div",{children:Object(Q.jsxs)("span",{children:[e.likeCount," Like"]})})]})},Le=Object(ie.a)(10),Te=function(e){return Object(Q.jsxs)("form",{onSubmit:e.handleSubmit,children:["New post",Object(Q.jsx)("div",{children:Object(Q.jsx)(ae.a,{component:oe.b,name:"newPostText",placeholder:"Enter your message",validate:[ie.b,Le]})}),Object(Q.jsx)("div",{children:Object(Q.jsx)("button",{children:"Add post"})})]})};Te=Object(ce.a)({form:"newPost"})(Te);var Ue=function(e){var t=Object(O.a)(e.posts).reverse().map((function(e){return Object(Q.jsx)(Ee,{message:e.message,likeCount:e.likeCount,id:e.id})}));return Object(Q.jsxs)("div",{className:Ce.a.postsBlock,children:[Object(Q.jsx)("h3",{children:"My posts"}),Object(Q.jsx)(Te,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(Q.jsx)("div",{className:Ce.a.oldPosts,children:t})]})},Fe=Object(W.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:m,newPostText:e}}(t))}}}))(Ue),Ae=n(141),Me=n.n(Ae),De=n(54),Be=n(37),ze=n.n(Be),Re=n(128),Je=function(e){var t=Object(z.useState)(!1),n=Object(De.a)(t,2),r=n[0],s=n[1],a=Object(z.useState)(e.status),c=Object(De.a)(a,2),i=c[0],o=c[1];return Object(z.useEffect)((function(){o(e.status)}),[e.status]),Object(Q.jsxs)("div",{className:ze.a.discription,children:[!r&&Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Status"}),":"," ",Object(Q.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status||"-----"})]}),r&&Object(Q.jsx)("div",{children:Object(Q.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateUserStatus(i)},onChange:function(e){o(e.currentTarget.value)},value:i})})]})},Ge=Object(ce.a)({form:"profile-form"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.error;return Object(Q.jsxs)("form",{onSubmit:t,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)("button",{children:"Save"})}),r&&Object(Q.jsx)("div",{className:le.a.formSummaryError,children:r}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Full name"}),":"," ",Object(Q.jsx)(ae.a,{placeholder:"Full name",component:oe.a,name:"fullName",validate:[]})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Looking for a job"}),":"," ",Object(Q.jsx)(ae.a,{type:"checkbox",component:oe.a,name:"lookingForAJob"})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Professional skills"}),":",Object(Q.jsx)(ae.a,{placeholder:"Professional skills",component:oe.b,name:"lookingForAJobDescription",validate:[]})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"About me"}),":",Object(Q.jsx)(ae.a,{placeholder:"About me",component:oe.b,name:"aboutMe",validate:[]})]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(n.contacts).map((function(e){return Object(Q.jsxs)("div",{className:ze.a.contact,children:[Object(Q.jsxs)("b",{children:[e,": "]}),Object(Q.jsx)(ae.a,{placeholder:e,component:oe.a,name:"contacts."+e,validate:[]})]})}))]})]})})),He=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object(Q.jsxs)("div",{children:[n&&Object(Q.jsx)("div",{children:Object(Q.jsx)("button",{onClick:r,children:"Edit"})}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Professional skills"}),": ",t.lookingForAJobDescription]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(t.contacts).map((function(e){return Object(Q.jsx)(Ve,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},Ve=function(e){var t=e.contactTitle,n=e.contactValue;return Object(Q.jsxs)("div",{className:ze.a.contact,children:[Object(Q.jsx)("b",{children:t}),": ",n]})},We=function(e){var t=Object(z.useState)(!1),n=Object(De.a)(t,2),r=n[0],s=n[1];if(!e.profile)return Object(Q.jsx)(X.a,{});return Object(Q.jsx)("div",{children:Object(Q.jsxs)("div",{className:ze.a.discription,children:[" ",Object(Q.jsx)("img",{alt:"",src:null!=e.profile.photos.large?e.profile.photos.large:Re.a}),e.isOwner&&Object(Q.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),r?Object(Q.jsx)(Ge,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){s(!1)}))}}):Object(Q.jsx)(He,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){s(!0)}}),Object(Q.jsx)(Je,{status:e.status,updateUserStatus:e.updateUserStatus})]})})},qe=function(e){return Object(Q.jsxs)("div",{className:Me.a.content,children:[Object(Q.jsx)(We,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(Q.jsx)(Fe,{})]})},Xe=function(e){Object(H.a)(n,e);var t=Object(V.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/users"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(Q.jsx)(qe,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),n}(R.a.Component),Ye=Object(s.d)(Object(W.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getUserProfile:S,getUserStatus:function(e){return function(t){l.c.getUserStatus(e).then((function(e){t(y(e.data))}))}},updateUserStatus:function(e){return function(t){l.c.updateUserStatus(e).then((function(n){0===n.data.resultCode&&t(y(e))}))}},savePhoto:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((s=r.data.data.photos,{type:_,photos:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n,r){var s,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,t.next=3,l.c.saveProfile(e);case 3:if(0!==(a=t.sent).data.resultCode){t.next=8;break}n(S(s)),t.next=11;break;case 8:return i=a.data.messages.length>0?a.data.messages[0]:"Something wrong!",n(Object(u.a)("profile-form",{_error:i})),t.abrupt("return",Promise.reject(i));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),q.f)(Xe),Ke=n(142),Qe=n.n(Ke),Ze=function(e){return Object(Q.jsx)("div",{className:Qe.a.set,children:"Settings!"})},$e=function(e){return function(t){return Object(Q.jsx)(R.a.Suspense,{fallback:Object(Q.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(Q.jsx)(e,Object(o.a)({},t))})}},et=R.a.lazy((function(){return n.e(4).then(n.bind(null,301))})),tt=R.a.lazy((function(){return n.e(3).then(n.bind(null,300))})),nt=function(e){Object(H.a)(n,e);var t=Object(V.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.inilitialized?Object(Q.jsxs)("div",{className:"app-wrapper",children:[Object(Q.jsx)(se,{}),Object(Q.jsx)(we,{}),Object(Q.jsxs)("div",{className:"app-wrapper-content",children:[Object(Q.jsx)(q.b,{path:"/profile/:userId?",render:function(){return Object(Q.jsx)(Ye,{})}}),Object(Q.jsx)(q.b,{path:"/messages",render:$e(et)}),Object(Q.jsx)(q.b,{path:"/news",render:function(){return Object(Q.jsx)(ke,{})}}),Object(Q.jsx)(q.b,{path:"/music",render:function(){return Object(Q.jsx)(pe,{})}}),Object(Q.jsx)(q.b,{path:"/settings",render:function(){return Object(Q.jsx)(Ze,{})}}),Object(Q.jsx)(q.b,{path:"/users",render:$e(tt)}),Object(Q.jsx)(q.b,{path:"/login",render:function(){return Object(Q.jsx)(de,{})}})]}),Object(Q.jsx)(Z,{})]}):Object(Q.jsx)(X.a,{})}}]),n}(R.a.Component),rt=Object(W.b)((function(e){return{inilitialized:e.app.inilitialized}}),{initializeApp:function(){return function(e){var t=e(b());Promise.all([t]).then((function(){e({type:L})}))}}})(nt),st=n(68);n.n(st).a.render(Object(Q.jsx)(B.a,{children:Object(Q.jsx)(W.a,{store:D,children:Object(Q.jsx)(rt,{})})}),document.getElementById("root")),r()},36:function(e,t,n){e.exports={formsControle:"FormsControls_formsControle__5nOD5",error:"FormsControls_error__3twfW",formSummaryError:"FormsControls_formSummaryError__OqkKO"}},37:function(e,t,n){e.exports={discription:"ProfileInfo_discription__12TwJ",mainImage:"ProfileInfo_mainImage__1UVwL",contact:"ProfileInfo_contact__AUEyg"}},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r=function(e){if(!e)return"Field is required!"},s=function(e){return function(t){if(t.length>e)return"Max length og message is ".concat(e," symbols!")}}},48:function(e,t,n){e.exports={avatarImage:"FriendsBlock_avatarImage__kMBQz",friendsBlock:"FriendsBlock_friendsBlock__1rYPb",friend:"FriendsBlock_friend__2nry3",friendsItems:"FriendsBlock_friendsItems__2gvpB"}},70:function(e,t,n){"use strict";var r=n.p+"static/media/preloader.a1a99674.gif",s=(n(1),n(0));t.a=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("img",{alt:"",src:r})})}},92:function(e,t,n){e.exports={header:"Header_header__l4WvT",loginBlock:"Header_loginBlock__1qE8h"}},97:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__1IjyF",oldPosts:"MyPosts_oldPosts__Eo3et"}}},[[295,1,2]]]);
//# sourceMappingURL=main.63bdbfa5.chunk.js.map